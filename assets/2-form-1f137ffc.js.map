{"version":3,"file":"2-form-1f137ffc.js","sources":["../../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\n\nconst formData = {\n    email: \"\",\n    message: \"\",\n};\n\nform.addEventListener('input', formOnInput);\n\nfunction formOnInput(e) {\n    e.preventDefault();\n    formData.email = form.elements.email.value.trim();\n    formData.message = form.elements.message.value.trim();\n    saveToLs(\"feedback-form-state\", formData);\n};\n\n// ================================\nwindow.addEventListener('DOMContentLoaded', pageOnLoad);\n\nfunction pageOnLoad(e) {\n    const formDataLoad  = loadFromLs(\"feedback-form-state\");\n    if(formDataLoad) {\n        form.elements.email.value = formDataLoad.email;\n        form.elements.message.value = formDataLoad.message;\n        formData.email = formDataLoad.email;\n        formData.message = formDataLoad.message;\n    };\n};\n\nform.addEventListener('submit', formOnSubmit);\n\nfunction formOnSubmit(e) {\n    e.preventDefault();\n    if(form.elements.email.value && form.elements.message.value) {\n        let savedData = formData;\n        console.log(savedData);\n        form.reset();\n        localStorage.removeItem(\"feedback-form-state\");\n        formData.email = \"\";\n        formData.message = \"\";\n    } else {\n        alert(\"Fill please all fields\");\n    };\n};\n\n// ====================LOCALSTORAGE FUNCTIONS=================================\n\n\nfunction saveToLs(key, value) {\n    const jsonData = JSON.stringify(value)\n    localStorage.setItem(key, jsonData)\n};\n\nfunction loadFromLs(key) {\n    const json = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(json);\n        return data;\n    } catch {\n        return json;\n    }\n};"],"names":["form","formData","formOnInput","e","saveToLs","pageOnLoad","formDataLoad","loadFromLs","formOnSubmit","key","value","jsonData","json"],"mappings":"AAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEAD,EAAK,iBAAiB,QAASE,CAAW,EAE1C,SAASA,EAAYC,EAAG,CACpBA,EAAE,eAAc,EAChBF,EAAS,MAAQD,EAAK,SAAS,MAAM,MAAM,OAC3CC,EAAS,QAAUD,EAAK,SAAS,QAAQ,MAAM,OAC/CI,EAAS,sBAAuBH,CAAQ,CAC5C,CAGA,OAAO,iBAAiB,mBAAoBI,CAAU,EAEtD,SAASA,EAAWF,EAAG,CACnB,MAAMG,EAAgBC,EAAW,qBAAqB,EACnDD,IACCN,EAAK,SAAS,MAAM,MAAQM,EAAa,MACzCN,EAAK,SAAS,QAAQ,MAAQM,EAAa,QAC3CL,EAAS,MAAQK,EAAa,MAC9BL,EAAS,QAAUK,EAAa,QAExC,CAEAN,EAAK,iBAAiB,SAAUQ,CAAY,EAE5C,SAASA,EAAaL,EAAG,CACrBA,EAAE,eAAc,EACbH,EAAK,SAAS,MAAM,OAASA,EAAK,SAAS,QAAQ,OAElD,QAAQ,IADQC,CACK,EACrBD,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,EAC7CC,EAAS,MAAQ,GACjBA,EAAS,QAAU,IAEnB,MAAM,wBAAwB,CAEtC,CAKA,SAASG,EAASK,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASJ,EAAWE,EAAK,CACrB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMG,CAAI,CAEpC,MAAY,CACJ,OAAOA,CACV,CACL"}